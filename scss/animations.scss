/*** Animations ***/

@mixin keyframes($animation-name) {
	@keyframes #{$animation-name} {
		@content;
		/*
			This is used for transition-ins which are delayed - .transition-in has visibility:hidden, meaning
			until the animation begins, it is invisible.
		*/
		0%,to { visibility:visible; }
	}
	@-webkit-keyframes #{$animation-name} {
		@content;
		0%,to { visibility:visible; }
	}
}

@mixin transform($transforms) {
	-webkit-transform: $transforms;
            transform: $transforms;
}

/* The following are used for (text-style:)s only */

@include keyframes(appear) {
	0% { opacity: 0 }
	to { opacity: 1 }
}

@include keyframes(fade-in-out) {
	0%,to { opacity: 0 }
	50% { opacity: 1 }
}

@include keyframes(rumble) {
	25% { @include transform(translateY(-0.1em)) }
	75% { @include transform(translateY(0.1em)) }
}

@include keyframes(shudder) {
	25% { @include transform(translateX(0.1em)) }
	75% { @include transform(translateX(-0.1em)) }
}

@include keyframes(buoy) {
	25% { @include transform(translateY(0.25em)) }
	75% { @include transform(translateY(-0.25em)) }
}

@include keyframes(sway) {
	25% { @include transform(translateX(0.25em)) }
	75% { @include transform(translateX(-0.25em)) }
}

/* The following are used for (transition:)s only */

@include keyframes(box-flash) {
	0% { background-color: white; color: white; }
}

@include keyframes(pulse) {
	0%  { @include transform(scale(0,0)) }
	20% { @include transform(scale(1.2,1.2)) }
	40% { @include transform(scale(0.9,0.9)) }
	60% { @include transform(scale(1.05,1.05)) }
	80% { @include transform(scale(0.925,0.925)) }
	to  { @include transform(scale(1,1)) }
}

@include keyframes(shudder-in) {
	0%, to {        @include transform(translateX(0em));    }
	5%, 25%, 45% {  @include transform(translateX(-1em));   }
	15%, 35%, 55% { @include transform(translateX(1em));    }
	65% {           @include transform(translateX(-0.6em)); }
	75% {           @include transform(translateX(0.6em));  }
	85% {           @include transform(translateX(-0.2em)); }
	95% {           @include transform(translateX(0.2em));  }
}

@include keyframes(rumble-in) {
	0%, to {        @include transform(translateY(0em));    }
	5%, 25%, 45% {  @include transform(translateY(-1em));   }
	15%, 35%, 55% { @include transform(translateY(1em));    }
	65% {           @include transform(translateY(-0.6em)); }
	75% {           @include transform(translateY(0.6em));  }
	85% {           @include transform(translateY(-0.2em)); }
	95% {           @include transform(translateY(0.2em));  }
}

@include keyframes(slide-right) {
	0% { @include transform(translateX(-100vw)); }
}

@include keyframes(slide-left) {
	0% { @include transform(translateX(100vw)); }
}

@include keyframes(slide-up) {
	0% { @include transform(translateY(100vh)); }
}

@include keyframes(slide-down) {
	0% { @include transform(translateY(-100vh)); }
}

@include keyframes(flicker) {
	0%,29%,31%,63%,65%,77%,79%,86%,88%,91%,93% { opacity: 0 }
	30% { opacity: 0.2 }
	64% { opacity: 0.4 }
	78% { opacity: 0.6 }
	87% { opacity: 0.8 }
	92%, to { opacity: 1 }
}

